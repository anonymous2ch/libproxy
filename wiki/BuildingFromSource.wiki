#summary Building the latest version of libproxy
#labels Featured

This site deals with compilation for Linux and similiar systems. If you're interested in a windows version, please have a look at [WindowsPort].

= Get the Code =
{{{
svn checkout http://libproxy.googlecode.com/svn/trunk/ libproxy
}}}

= Install the Build Requirements =
Fedora:
{{{
yum install xulrunner-dev x11-dev xmu-dev gconf-dev dbus-dev networkmanager-dev
}}}

Ubuntu:
{{{
sudo apt-get install libmozjs-dev libxmu-dev libgconf2-dev libdbus-1-dev network-manager-dev xserver-xorg-dev
}}}


libproxy can be build with minimal dependencies or with several additional plugins. This matrix lists the necessary dependencies for all available plugins.

|| Plugin || Fedora || Ubuntu ||
|| NetworkManager Plugin|| dbus-devel, NetworkManager-devel || libdbus-1-dev, network-manager-dev ||
|| Gnome Config Plugin || x11-devel, xmu-devel, gconf-devel || libgconf2-dev, libxmu-dev ||
|| KDE Config Plugin || x11-devel, xmu-devel || libxmu-dev ||
|| PAC via Firefox/Xulrunner || firefox-devel or xulrunner-devel || firefox-dev or libmozjs-dev ||
|| PAC via WebKit || WebKit-gtk-devel || ||

Information on libproxy bindings coming soon...


= Building the Code =
Libproxy was changed to the cmake build system to better support various operating systems. You can build libproxy like this:
{{{
cmake \
[-DCMAKE_INSTALL_PREFIX=/usr] \
[-Dlibdir=/usr/lib] \
[-Ddatadir=/usr/share] \
[-Dmoduledir=/usrlib/libproxy/0.4.0/modules] \
[-Dbindir=/usr/bin] \
[-Dlibexecdir=/usr/libexec] \
[-DMOZJS_SEARCH_ORDER:STRING=xulrunner-js;firefox-js;mozilla-js;seamonkey-js] \
[-DWITH_VALA=YES] \
[-DPERL_VENDORINSTALL] \
.
make
sudo make install
}}}

== The cmake parameters explained ==
[-DCMAKE_INSTALL_PREFIX=/usr/local]: The base directory to be used for the installation<br>
[-Dlibdir=/usr/local/lib]: Where the libraries are to be installed<br>
[-Ddatadir=/usr/local/share]: Various data files go here<br>
[-Dmoduledir=/usr/local/lib/libproxy/0.4.0/modules]: All modules for libproxy go to this folder<br>
[-Dbindir=/usr/local/bin]: The libproxy utilites will be installed here<br>
[-Dlibexecdir=/usr/local/libexec]: And library helper goes here<br>
[-DMOZJS_SEARCH_ORDER:STRING=xulrunner-js;firefox-js;mozilla-js;seamonkey-js]: Specify in which order the different JS libraries shall be probed. The first one found will be used.<br>
[-DWITH_VALA] Install the Vala bindings in the system<br>
[-DPERL_VENDORINSTALL] Install the perl bindings into vendor_lib instead of site_lib

All paths defined can of course can changed. The paths The ones noted here are used if the specific parameter is left out and can be considered the defaults.

Note the dot (.) at the end of the cmake call. This is the path to the libproxy source. Dot denotes the current directory and can be used when building directly in the source folder of libproxy (recommended).

= Testing it Out =
{{{
/usr/local/bin/proxy http://www.google.com
}}}